<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Authors</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="container d-flex justify-content-between gap-3 p-5">
      <!-- Author favorites card start -->
      <div class="col-lg-3">
        <div class="card mb-3">
          <div class="card-header text-center">
            <h2>{{current_author['name']}}'s Favorites</h2>
          </div>
          <div class="card-body">
            <!-- Favorites table start -->
            <table
              class="table table-dark table-striped table-hover table-bordered"
            >
              <thead>
                <tr>
                  <th scope="col"></th>
                  <th scope="col">Title</th>
                  <th scope="col">Total Pages</th>
                </tr>
              </thead>
              <tbody>
                <!-- list of favorites loop start -->
                {% for i in range(0, len) %}
                <tr>
                  <th scope="row">{{i + 1}}</th>
                  <td>{{current_author.list_of_favorites[i]['title']}}</td>
                  <td>
                    {{current_author.list_of_favorites[i]['total_pages']}}
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
        <p><a href="/">Home</a></p>
      </div>
      <!-- Add book to favorites card start -->
      <div class="col-lg-8">
        <div class="card mb-3">
          <div class="card-header text-center">
            <h2>Add Book to Favorites</h2>
          </div>
          <!-- Add book form start -->
          <div class="card-body">
            <form
              action="/authors/{{current_author['id']}}/add/favorite"
              method="POST"
            >
              <select name="title" id="title" class="form-select mb-3">
                <option value="None" selected>Choose a book</option>
                {% for book in list_of_books %}
                <option value="{{book['title']}}">{{book['title']}}</option>
                {% endfor %}
              </select>
              <button type="submit" class="btn btn-primary">Add book</button>
            </form>
          </div>
        </div>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
